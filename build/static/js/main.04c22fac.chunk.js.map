{"version":3,"sources":["components/Person.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["Person","props","onSubmit","handleAddPerson","value","newName","onChange","handleNameChange","newNumber","handleNumber","type","Filter","persons","sort","a","b","name","filter","person","handler","length","toLowerCase","startsWith","map","number","onClick","handleDeletePerson","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","useEffect","personsService","initialPersons","catch","error","console","log","event","target","addPerson","preventDefault","find","p","window","confirm","updatedPerson","copyPersons","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04c22fac.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Person = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.handleAddPerson}>\n        Nombre:\n        <input value={props.newName} onChange={props.handleNameChange} /> <br />\n        Number:\n        <input value={props.newNumber} onChange={props.handleNumber} /><br />\n        <button type='submit'>Add</button>\n      </form>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const Filter = (props) => {\n  return (\n    <div>\n      {props.persons\n        .sort((a, b) => (a.name > b.name ? 1 : -1))\n        .filter((person) => {\n          if (props.handler.length === 0) return person\n          return person.name.toLowerCase().startsWith(props.handler.toLowerCase())\n        })\n        .map((person) => (\n          <div key={person.id}>\n            {person.name} - {person.number}\n            <button onClick={props.handleDeletePerson(person.id, person.name)}>delete</button>\n          </div>\n        ))}\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = 'https://pacific-crag-84231.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst deletePerson = id => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deletePerson: deletePerson\n}\n","import React, { useEffect, useState } from 'react'\nimport { Person } from './components/Person'\nimport { Filter } from './components/Filter'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n\n  const hook = () => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => console.log(error))\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNewFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n  const handleAddPerson = (event) => {\n    event.preventDefault()\n\n    const person = persons.find((p) => p.name === newName)\n\n    if (person) { // Person exists on the database\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n        personsService\n          .update(person.id, { ...person, number: newNumber })\n          .then(updatedPerson => {\n            const copyPersons = persons.map(p => p.name === updatedPerson.name ? updatedPerson : p)\n            setPersons(copyPersons)\n          })\n          .catch(error => console.log(error))\n      }\n      setNewName('')\n      setNewNumber('')\n    } else { // Person does not exist on the database\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personsService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => console.log(error))\n    }\n  }\n\n  const handleDeletePerson = (id, name) => {\n    return () => {\n      if (window.confirm(`Do you want to DELETE ${name} from the phonebook?`)) {\n        personsService\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(person => person.name !== name))\n          })\n          .catch(error => console.log(error))\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Person\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumber={handleNumber}\n        addPerson={handleAddPerson}\n      />\n      <h4> Filter by name</h4>\n      <input value={newFilter} onChange={handleNewFilter} />\n      <h2>Numbers</h2>\n      <Filter persons={persons} handler={newFilter} handleDeletePerson={handleDeletePerson} />\n\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport React from 'react'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}