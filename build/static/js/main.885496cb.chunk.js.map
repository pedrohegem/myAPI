{"version":3,"sources":["components/Person.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["Person","addNewPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","trim","name","number","value","onChange","target","type","Filter","props","persons","sort","a","b","filter","person","handler","length","toLowerCase","startsWith","map","onClick","handleDeletePerson","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","setPersons","newFilter","setNewFilter","useEffect","personsService","initialPersons","catch","error","console","log","newPerson","find","person1","person2","window","confirm","updatedPerson","returnedPerson","p","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.885496cb.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nexport const Person = ({ addNewPerson }) => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  // Handler for the form's submit.\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if (newName.trim() === '') return\n    addNewPerson({ name: newName, number: newNumber })\n  }\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        Name:\n        <input value={newName} onChange={({ target }) => setNewName(target.value)} /> <br />\n        Number:\n        <input value={newNumber} onChange={({ target }) => setNewNumber(target.value)} /> <br />\n        <button type='submit'>Add</button>\n      </form>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const Filter = (props) => {\n  return (\n    <div>\n      {props.persons\n        .sort((a, b) => (a.name > b.name ? 1 : -1))\n        .filter((person) => {\n          if (props.handler.length === 0) return person\n          return person.name.toLowerCase().startsWith(props.handler.toLowerCase())\n        })\n        .map((person) => (\n          <div key={person.id}>\n            {person.name} - {person.number}\n            <button onClick={props.handleDeletePerson(person.id, person.name)}>delete</button>\n          </div>\n        ))}\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst deletePerson = id => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deletePerson: deletePerson\n}\n","import React, { useEffect, useState } from 'react'\nimport { Person } from './components/Person'\nimport { Filter } from './components/Filter'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newFilter, setNewFilter] = useState('')\n\n  useEffect(() => { // Initial data fetch\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => console.log(error))\n  }, [])\n\n  const handleNewFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  // Adds a new person to the phonebook\n  const addNewPerson = (newPerson) => {\n    const namesMatch = (person1, person2) =>\n      person1.toLowerCase() === person2.toLowerCase()\n\n    const person = persons.find((person) =>\n      namesMatch(person.name, newPerson.name)\n    )\n\n    if (person) {\n      if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with the new one?`)) {\n        const updatedPerson = { ...person, number: newPerson.number }\n        personsService\n          .update(person.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(persons\n              .filter((p) => p.name !== returnedPerson.name)\n              .concat(returnedPerson)\n            )\n            console.log(`updated person ${person.name}'s number`)\n          })\n          .catch((error) => {\n            setPersons(persons.filter((p) => p.name !== person.name))\n            console.log(error)\n          })\n      }\n      return\n    }\n    personsService\n      .create(newPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson))\n        console.log('Added person!')\n      })\n      .catch(error => console.log(error))\n  }\n\n  const handleDeletePerson = (id, name) => {\n    return () => {\n      if (window.confirm(`Do you want to DELETE ${name} from the phonebook?`)) {\n        personsService\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter(person => person.name !== name))\n          })\n          .catch(error => console.log(error))\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Person addNewPerson={addNewPerson} />\n      <h4> Filter </h4>\n      <input value={newFilter} onChange={handleNewFilter} />\n      <h2>Numbers</h2>\n      <Filter persons={persons} handler={newFilter} handleDeletePerson={handleDeletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport React from 'react'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}